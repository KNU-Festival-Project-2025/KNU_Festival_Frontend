@import url("https://cdn.jsdelivr.net/npm/pretendard/dist/web/static/pretendard.css");
@import "tailwindcss";

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif, school;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #fffae0;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* 모바일 브라우저 바 대응을 위한 CSS 변수 */
  --vh: 1vh;
  /* JavaScript로 동적 업데이트 */
}

@font-face {
  font-family: "mbc1961";
  src: url("/assets/fonts/mbc1961.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: "HS산토끼체";
  src: url("/assets/fonts/HS-Santokki.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: "Ownglyph-PDH";
  src: url("/assets/fonts/Ownglyph-PDH.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: "HS-Santokki";
  src: url("/assets/fonts/HS-Santokki.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: "school";
  src: url("/assets/fonts/HakgyoansimJeomsimsiganB.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
}

.mbc1961 {
  font-family: "mbc1961", "mbc1961" !important;
}

.font-hssantokki {
  font-family: "HS산토끼체", "HS-Santokki", sans-serif !important;
}

.font-school {
  font-family: "school", "HakgyoansimJeomsimsiganB", sans-serif !important;
}

/* 스크롤바 완전히 숨기기 (스크롤 기능은 유지) */
/* Webkit 기반 브라우저 (Chrome, Safari, Edge) */
::-webkit-scrollbar {
  width: 0px;
  height: 0px;
  background: transparent;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: transparent;
}

::-webkit-scrollbar-corner {
  background: transparent;
}

/* Firefox에서 스크롤바 숨기기 */
* {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

/* 모든 요소에 스크롤바 숨기기 적용 */
html,
body,
div,
section,
main,
article,
aside,
nav,
header,
footer {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

html::-webkit-scrollbar,
body::-webkit-scrollbar,
div::-webkit-scrollbar,
section::-webkit-scrollbar,
main::-webkit-scrollbar,
article::-webkit-scrollbar,
aside::-webkit-scrollbar,
nav::-webkit-scrollbar,
header::-webkit-scrollbar,
footer::-webkit-scrollbar {
  display: none;
}

/* 스냅 스크롤을 위한 기본 설정 */
html {
  scroll-behavior: smooth;
}

/* --- TabNav 전용 버튼 리셋 --- */
.tab-btn {
  cursor: pointer;
  font-family: Pretendard, system-ui, sans-serif;
  text-align: center;
}

.tab-btn:focus {
  outline: none;
}

/* Hahmlet 전역 적용 (기존 :root 규칙을 확실히 덮어씀) */
* {
  font-family: "Hahmlet", system-ui, Avenir, Helvetica, Arial, sans-serif;
}

/* Pretendard 강제 적용용 클래스 */
.font-pretendard {
  font-family: "Pretendard", system-ui, sans-serif !important;
}

/* 고급 애니메이션 키프레임 */
@keyframes slideInFromRight {
  0% {
    opacity: 0;
    transform: translateX(20px) scale(0.95);
  }

  100% {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
}

@keyframes fadeInUp {
  0% {
    opacity: 0;
    transform: translateY(10px) scale(0.95);
  }

  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes modalSlideIn {
  0% {
    opacity: 0;
    transform: translateY(-10px) scale(0.9) rotateX(-10deg);
  }

  100% {
    opacity: 1;
    transform: translateY(0) scale(1) rotateX(0deg);
  }
}

@keyframes modalSlideOut {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1) rotateX(0deg);
  }

  100% {
    opacity: 0;
    transform: translateY(-10px) scale(0.9) rotateX(-10deg);
  }
}

@keyframes pulse {

  0%,
  100% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.05);
  }
}

@keyframes floating {

  0%,
  100% {
    transform: translateY(0px);
  }

  50% {
    transform: translateY(-10px);
  }
}

@keyframes fadeInUp {
  0% {
    opacity: 0;
    transform: translateY(30px);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInScale {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }

  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes modalSlideIn {
  0% {
    opacity: 0;
    transform: scale(0.9) translateY(-10px);
  }

  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes modalSlideOut {
  0% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }

  100% {
    opacity: 0;
    transform: scale(0.9) translateY(10px);
  }
}

@keyframes fadeInSlide {
  0% {
    opacity: 0;
    transform: translateY(-8px) scale(0.95);
  }

  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes fadeOutSlide {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }

  100% {
    opacity: 0;
    transform: translateY(-8px) scale(0.95);
  }
}

/* 메뉴 모달 고급 호버 효과 */
.menu-item-hover {
  position: relative;
  overflow: hidden;
}

.menu-item-hover::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg,
      transparent,
      rgba(255, 255, 255, 0.4),
      transparent);
  transition: left 0.5s;
}

.menu-item-hover:hover::before {
  left: 100%;
}

/* 모바일 브라우저 바 대응을 위한 폴백 클래스 */
.h-screen-fallback {
  height: 100vh;
  /* 기본값 */
  height: calc(var(--vh, 1vh) * 100);
  /* JavaScript로 계산된 값 사용 */
}

.min-h-screen-fallback {
  min-height: 100vh;
  /* 기본값 */
  min-height: calc(var(--vh, 1vh) * 100);
  /* JavaScript로 계산된 값 사용 */
}

.max-h-screen-fallback {
  max-height: 100vh;
  /* 기본값 */
  max-height: calc(var(--vh, 1vh) * 100);
  /* JavaScript로 계산된 값 사용 */
}

/* 더 강력한 뷰포트 높이 설정 */
.h-screen-robust {
  height: 100vh;
  /* 기본값 */
  height: 100dvh;
  /* 동적 뷰포트 높이 (지원하는 브라우저) */
  height: calc(var(--vh, 1vh) * 100);
  /* JavaScript 폴백 */
}

.min-h-screen-robust {
  min-height: 100vh;
  /* 기본값 */
  min-height: 100dvh;
  /* 동적 뷰포트 높이 (지원하는 브라우저) */
  min-height: calc(var(--vh, 1vh) * 100);
  /* JavaScript 폴백 */
}

/* 932px 이상일 때 최대 높이를 932px로 제한하는 하이브리드 클래스 */
.h-screen-hybrid {
  /* 1. 초기 고정값 설정 (모든 브라우저 지원) */
  min-height: 100vh;
  height: 100vh;

  /* 2. 동적 뷰포트 높이 (최신 브라우저 지원) - 모바일 브라우저 바 대응 */
  min-height: 100dvh;
  height: 100dvh;

  /* 3. 구형 브라우저를 위한 대체 동적 뷰포트 */
  min-height: -webkit-fill-available;
  height: -webkit-fill-available;

  /* 4. JavaScript 폴백 (CSS 변수 사용) */
  min-height: calc(var(--vh, 1vh) * 100);

  /* 배경 이미지 안정화를 위한 추가 설정 */
  position: relative;
  overflow: hidden;
}

/* 모바일 환경에서 안정성 강화 */
@supports (height: 100dvh) {
  .h-screen-hybrid {
    height: 100dvh;
    min-height: 100dvh;
  }
}

/* 932px 이상일 때 최대 높이 제한 */
@media (min-height: 932px) {
  .h-screen-hybrid {
    height: 932px !important;
    max-height: 932px !important;
    min-height: 932px !important;
  }
}

/* iOS Safari 특별 처리 */
@supports (-webkit-touch-callout: none) {
  .h-screen-hybrid {
    height: -webkit-fill-available;
    min-height: -webkit-fill-available;
  }

  @media (min-height: 932px) {
    .h-screen-hybrid {
      height: 932px !important;
      min-height: 932px !important;
    }
  }
}

/* 배경 이미지 섹션 안정화 클래스 */
.bg-stable {
  background-attachment: scroll;
  /* fixed 대신 scroll로 더 안정적 */
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
  will-change: auto;
  /* 불필요한 재렌더링 방지 */
  transform: translateZ(0);
  /* GPU 가속 활용 */
  backface-visibility: hidden;
  /* 깜빡임 방지 */
}

/* 모바일 환경에서 배경 고정 */
@media (max-width: 768px) {
  .bg-stable {
    background-attachment: scroll !important;
  }
}

/* ===== SNAP SCROLL STYLES ===== */
/* 메인 컨테이너에 snap 스크롤 적용 */
html {
  scroll-behavior: smooth;
}

/* Snap 스크롤 컨테이너 */
.snap-container {
  scroll-snap-type: y mandatory;
  overflow-y: auto;
  height: 100vh;
  height: 100dvh;
  /* 스크롤바 완전히 숨기기 */
  scrollbar-width: none !important;
  /* Firefox */
  -ms-overflow-style: none !important;
  /* IE and Edge */
}

/* 각 섹션에 snap 정렬 적용 - 직접 자식 요소들 */
.snap-container>div {
  scroll-snap-align: start;
  scroll-snap-stop: always;
}

/* 모바일에서 더 유연한 snap */
@media (max-width: 768px) {
  .snap-container {
    scroll-snap-type: y proximity;
    -webkit-overflow-scrolling: touch;
  }
}

/* 데스크톱에서 강한 snap */
@media (min-width: 769px) {
  .snap-container {
    scroll-snap-type: y mandatory;
  }
}

/* snap-container 스크롤바 완전히 숨기기 */
.snap-container::-webkit-scrollbar {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}

/* 터치 디바이스 최적화 */
@media (hover: none) and (pointer: coarse) {
  .snap-container {
    scroll-snap-type: y proximity;
  }
}

/* 홈 페이지 snap 컨테이너 조정 */
.snap-container {
  position: relative;
}